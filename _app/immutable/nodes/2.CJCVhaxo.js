import{n as R,r as ge,s as Q,i as xe,a as Me,c as Be,o as ke}from"../chunks/scheduler.Ce_0Mfso.js";import{l as D,n as U,S as Z,i as $,A as F,s as Y,t as A,B as G,a as O,d as v,f as H,b as I,o as p,g as T,h as w,C as te,j as P,e as N,c as E,q as Te,m as Ce,k as ue,u as ie,v as le,w as oe,x as ae,z as W,p as me,y as Se}from"../chunks/index.BVyiaWq_.js";import{w as Ne}from"../chunks/index.M7WuUczP.js";const _e=typeof window<"u";let he=_e?()=>window.performance.now():()=>Date.now(),we=_e?t=>requestAnimationFrame(t):R;const J=new Set;function be(t){J.forEach(e=>{e.c(t)||(J.delete(e),e.f())}),J.size!==0&&we(be)}function Ee(t){let e;return J.size===0&&we(be),{promise:new Promise(s=>{J.add(e={c:t,f:s})}),abort(){J.delete(e)}}}function de(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Oe(t,e){D(t,1,1,()=>{e.delete(t.key)})}function Le(t,e,s,n,l,a,f,r,c,m,u,o){let i=t.length,d=a.length,h=i;const b={};for(;h--;)b[t[h].key]=h;const x=[],_=new Map,L=new Map,C=[];for(h=d;h--;){const g=o(l,a,h),k=s(g);let S=f.get(k);S?C.push(()=>S.p(g,e)):(S=m(k,g),S.c()),_.set(k,x[h]=S),k in b&&L.set(k,Math.abs(h-b[k]))}const X=new Set,B=new Set;function z(g){U(g,1),g.m(r,u),f.set(g.key,g),u=g.first,d--}for(;i&&d;){const g=x[d-1],k=t[i-1],S=g.key,y=k.key;g===k?(u=g.first,i--,d--):_.has(y)?!f.has(S)||X.has(S)?z(g):B.has(y)?i--:L.get(S)>L.get(y)?(B.add(S),z(g)):(X.add(y),i--):(c(k,f),i--)}for(;i--;){const g=t[i];_.has(g.key)||c(g,f)}for(;d;)z(x[d-1]);return ge(C),x}const je=!0,it=Object.freeze(Object.defineProperty({__proto__:null,prerender:je},Symbol.toStringTag,{value:"Module"}));function ye(t){return Object.prototype.toString.call(t)==="[object Date]"}function se(t,e,s,n){if(typeof s=="number"||ye(s)){const l=n-s,a=(s-e)/(t.dt||1/60),f=t.opts.stiffness*l,r=t.opts.damping*a,c=(f-r)*t.inv_mass,m=(a+c)*t.dt;return Math.abs(m)<t.opts.precision&&Math.abs(l)<t.opts.precision?n:(t.settled=!1,ye(s)?new Date(s.getTime()+m):s+m)}else{if(Array.isArray(s))return s.map((l,a)=>se(t,e[a],s[a],n[a]));if(typeof s=="object"){const l={};for(const a in s)l[a]=se(t,e[a],s[a],n[a]);return l}else throw new Error(`Cannot spring ${typeof s} values`)}}function Xe(t,e={}){const s=Ne(t),{stiffness:n=.15,damping:l=.8,precision:a=.01}=e;let f,r,c,m=t,u=t,o=1,i=0,d=!1;function h(x,_={}){u=x;const L=c={};return t==null||_.hard||b.stiffness>=1&&b.damping>=1?(d=!0,f=he(),m=x,s.set(t=u),Promise.resolve()):(_.soft&&(i=1/((_.soft===!0?.5:+_.soft)*60),o=0),r||(f=he(),d=!1,r=Ee(C=>{if(d)return d=!1,r=null,!1;o=Math.min(o+i,1);const X={inv_mass:o,opts:b,settled:!0,dt:(C-f)*60/1e3},B=se(X,m,t,u);return f=C,m=t,s.set(t=B),X.settled&&(r=null),!X.settled})),new Promise(C=>{r.promise.then(()=>{L===c&&C()})}))}const b={set:h,update:(x,_)=>h(x(u,t),_),subscribe:s.subscribe,stiffness:n,damping:l,precision:a};return b}const K={width:50,height:25};function Ye(t,e){const s=Je(t,e);if(s>0)return s}function ne(t){const e=t.velocity.y<0,s=t.velocity.x<0;let n=null,l=null;const a=e?t.radius:K.height-t.radius,f=s?t.radius:K.width-t.radius,{y:r,x:c}=t.position,{y:m,x:u}=t.velocity;if(l=(f-c)/u,n=(a-r)/m,(n<0||isNaN(n))&&(n=null),(l<0||isNaN(l))&&(l=null),l!==null&&(n===null||l<n))return{wall:s?"left":"right",time:l};if(n!==null&&(l===null||n<l))return{wall:e?"top":"bottom",time:n}}function He(t){let e;for(let s=0;s<t.length;s++){for(let l=s+1;l<t.length;l++){const a=Ye(t[s],t[l]);a!==void 0&&(e===void 0||e.time>a)&&(e={time:a,i:s,j:l})}const n=ne(t[s]);n!==void 0&&(e===void 0||n.time<e.time)&&(e={time:n.time,i:s,j:n.wall==="top"||n.wall==="bottom"?-1:-2})}return e}function ze(t,e){const s=[];for(const n of t){const l=Pe(n);l.position={x:n.position.x+n.velocity.x*e,y:n.position.y+n.velocity.y*e},s.push(l)}return s}function ee(t){const e=He(t);if(e===void 0)return;const s=ze(t,e.time);return e.j>=0?Ie(s[e.i],s[e.j]):e.j===-1?s[e.i].velocity.y=s[e.i].velocity.y*-1:e.j===-2&&(s[e.i].velocity.x=s[e.i].velocity.x*-1),[s,e.time]}function q(t,e){let s=Math.cos(e),n=Math.sin(e);return[t.x*s+t.y*n,-t.x*n+t.y*s]}function Ae(t,e){return Math.atan2(e.position.y-t.position.y,e.position.x-t.position.x)}function Ie(t,e){const s=Ae(t,e),[n,l]=q(t.velocity,s),[a,f]=q(e.velocity,s),r=t.mass+e.mass,c=(t.mass-e.mass)/r*n+2*e.mass/r*a,m=2*t.mass/r*n+(e.mass-t.mass)/r*a,[u,o]=q({x:c,y:l},-s),[i,d]=q({x:m,y:f},-s);t.velocity={x:u,y:o},e.velocity={x:i,y:d}}function Pe(t){return JSON.parse(JSON.stringify(t))}function Je(t,e){const{x:s,y:n}=t.position,{x:l,y:a}=t.velocity,{x:f,y:r}=e.position,{x:c,y:m}=e.velocity,u=t.radius+e.radius,o=f-s,i=r-n,d=c-l,h=m-a,b=d**2+h**2,x=2*(o*d+i*h),_=o**2+i**2-u**2;return(-x-Math.sqrt(x**2-4*b*_))/(2*b)}function De(t){let e,s,n,l,a,f,r,c,m;return{c(){e=F("circle"),l=Y(),a=F("text"),f=A(t[3]),this.h()},l(u){e=G(u,"circle",{style:!0,cx:!0,cy:!0,fill:!0,r:!0});var o=O(e);o.forEach(v),l=H(u),a=G(u,"text",{style:!0,"text-anchor":!0,"dominant-baseline":!0,class:!0});var i=O(a);f=I(i,t[3]),i.forEach(v),this.h()},h(){p(e,"style",s=`transition: transform ${t[1]}s cubic-bezier(0, 0, 1, 1); 
		transform: translate(${t[6]}px, ${t[5]}px)`),p(e,"cx","0"),p(e,"cy","0"),p(e,"fill",n=`hsl(${t[2]},100%,70%)`),p(e,"r",t[0]),p(a,"style",r=`transition: transform ${t[1]}s cubic-bezier(0, 0, 1, 1); 
		transform: translate(${t[6]}px, ${t[5]}px)`),p(a,"text-anchor","middle"),p(a,"dominant-baseline","middle"),p(a,"class","svelte-zp0nfz")},m(u,o){T(u,e,o),T(u,l,o),T(u,a,o),w(a,f),c||(m=te(e,"click",function(){xe(t[4])&&t[4].apply(this,arguments)}),c=!0)},p(u,[o]){t=u,o&98&&s!==(s=`transition: transform ${t[1]}s cubic-bezier(0, 0, 1, 1); 
		transform: translate(${t[6]}px, ${t[5]}px)`)&&p(e,"style",s),o&4&&n!==(n=`hsl(${t[2]},100%,70%)`)&&p(e,"fill",n),o&1&&p(e,"r",t[0]),o&8&&P(f,t[3]),o&98&&r!==(r=`transition: transform ${t[1]}s cubic-bezier(0, 0, 1, 1); 
		transform: translate(${t[6]}px, ${t[5]}px)`)&&p(a,"style",r)},i:R,o:R,d(u){u&&(v(e),v(l),v(a)),c=!1,m()}}}function Ue(t,e,s){let n,l,{initialX:a}=e,{initialY:f}=e,{finalX:r}=e,{finalY:c}=e,{radius:m}=e,{time:u}=e,{hue:o}=e,{label:i}=e,{editCallback:d=()=>{}}=e;return Me(()=>{(a!==r||f!==c)&&(s(6,n=r),s(5,l=c))}),t.$$set=h=>{"initialX"in h&&s(7,a=h.initialX),"initialY"in h&&s(8,f=h.initialY),"finalX"in h&&s(9,r=h.finalX),"finalY"in h&&s(10,c=h.finalY),"radius"in h&&s(0,m=h.radius),"time"in h&&s(1,u=h.time),"hue"in h&&s(2,o=h.hue),"label"in h&&s(3,i=h.label),"editCallback"in h&&s(4,d=h.editCallback)},t.$$.update=()=>{t.$$.dirty&128&&s(6,n=a),t.$$.dirty&256&&s(5,l=f)},[m,u,o,i,d,l,n,a,f,r,c]}class Ve extends Z{constructor(e){super(),$(this,e,Ue,De,Q,{initialX:7,initialY:8,finalX:9,finalY:10,radius:0,time:1,hue:2,label:3,editCallback:4})}}function pe(t,e,s){const n=t.slice();return n[3]=e[s],n[5]=s,n}function ve(t,e){let s,n,l,a=JSON.stringify(e[3])+"",f,r;return n=new Ve({props:{initialX:e[3].position.x,initialY:e[3].position.y,finalX:e[0][e[5]].position.x,finalY:e[0][e[5]].position.y,radius:e[3].radius,hue:e[5]/e[1].length*360,label:""+e[3].mass,time:e[2]}}),{key:t,first:null,c(){s=ue(),ie(n.$$.fragment),l=F("p"),f=A(a),this.h()},l(c){s=ue(),le(n.$$.fragment,c),l=G(c,"p",{});var m=O(l);f=I(m,a),m.forEach(v),this.h()},h(){this.first=s},m(c,m){T(c,s,m),oe(n,c,m),T(c,l,m),w(l,f),r=!0},p(c,m){e=c;const u={};m&2&&(u.initialX=e[3].position.x),m&2&&(u.initialY=e[3].position.y),m&3&&(u.finalX=e[0][e[5]].position.x),m&3&&(u.finalY=e[0][e[5]].position.y),m&2&&(u.radius=e[3].radius),m&2&&(u.hue=e[5]/e[1].length*360),m&2&&(u.label=""+e[3].mass),m&4&&(u.time=e[2]),n.$set(u),(!r||m&2)&&a!==(a=JSON.stringify(e[3])+"")&&P(f,a)},i(c){r||(U(n.$$.fragment,c),r=!0)},o(c){D(n.$$.fragment,c),r=!1},d(c){c&&(v(s),v(l)),ae(n,c)}}}function qe(t){let e,s=[],n=new Map,l,a,f=JSON.stringify(t[0])+"",r,c,m=de(t[1]);const u=o=>o[5];for(let o=0;o<m.length;o+=1){let i=pe(t,m,o),d=u(i);n.set(d,s[o]=ve(d,i))}return{c(){e=F("svg");for(let o=0;o<s.length;o+=1)s[o].c();l=Y(),a=N("p"),r=A(f),this.h()},l(o){e=G(o,"svg",{viewBox:!0,class:!0});var i=O(e);for(let h=0;h<s.length;h+=1)s[h].l(i);i.forEach(v),l=H(o),a=E(o,"P",{});var d=O(a);r=I(d,f),d.forEach(v),this.h()},h(){p(e,"viewBox",`0 0 ${K.width} ${K.height}`),p(e,"class","svelte-1n2kbh1")},m(o,i){T(o,e,i);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);T(o,l,i),T(o,a,i),w(a,r),c=!0},p(o,[i]){i&7&&(m=de(o[1]),Te(),s=Le(s,i,u,1,o,m,n,e,Oe,ve,null,pe),Ce()),(!c||i&1)&&f!==(f=JSON.stringify(o[0])+"")&&P(r,f)},i(o){if(!c){for(let i=0;i<m.length;i+=1)U(s[i]);c=!0}},o(o){for(let i=0;i<s.length;i+=1)D(s[i]);c=!1},d(o){o&&(v(e),v(l),v(a));for(let i=0;i<s.length;i+=1)s[i].d()}}}function Re(t,e,s){let{curBalls:n}=e,{oldBalls:l}=e,{time:a}=e;return t.$$set=f=>{"curBalls"in f&&s(0,n=f.curBalls),"oldBalls"in f&&s(1,l=f.oldBalls),"time"in f&&s(2,a=f.time)},[n,l,a]}class Fe extends Z{constructor(e){super(),$(this,e,Re,qe,Q,{curBalls:0,oldBalls:1,time:2})}}function Ge(t){let e,s,n,l=JSON.stringify(t[3].map(ne))+"",a,f,r,c,m='<svg aria-hidden="true" viewBox="0 0 1 1" class="svelte-y96mxt"><path d="M0,0.5 L1,0.5" class="svelte-y96mxt"></path></svg>',u,o,i,d,h=Math.floor(t[1]+1)+"",b,x,_,L=Math.floor(t[1])+"",C,X,B,z='<svg aria-hidden="true" viewBox="0 0 1 1" class="svelte-y96mxt"><path d="M0,0.5 L1,0.5 M0.5,0 L0.5,1" class="svelte-y96mxt"></path></svg>',g,k,S;return e=new Fe({props:{oldBalls:t[2],curBalls:t[3],time:t[4]}}),{c(){ie(e.$$.fragment),s=Y(),n=N("p"),a=A(l),f=Y(),r=N("div"),c=N("button"),c.innerHTML=m,u=Y(),o=N("div"),i=N("div"),d=N("strong"),b=A(h),x=Y(),_=N("strong"),C=A(L),X=Y(),B=N("button"),B.innerHTML=z,this.h()},l(y){le(e.$$.fragment,y),s=H(y),n=E(y,"P",{});var M=O(n);a=I(M,l),M.forEach(v),f=H(y),r=E(y,"DIV",{class:!0});var j=O(r);c=E(j,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),W(c)!=="svelte-97ppyc"&&(c.innerHTML=m),u=H(j),o=E(j,"DIV",{class:!0});var re=O(o);i=E(re,"DIV",{class:!0,style:!0});var V=O(i);d=E(V,"STRONG",{class:!0,"aria-hidden":!0});var ce=O(d);b=I(ce,h),ce.forEach(v),x=H(V),_=E(V,"STRONG",{class:!0});var fe=O(_);C=I(fe,L),fe.forEach(v),V.forEach(v),re.forEach(v),X=H(j),B=E(j,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),W(B)!=="svelte-irev0c"&&(B.innerHTML=z),j.forEach(v),this.h()},h(){p(c,"aria-label","Decrease the counter by one"),p(c,"class","svelte-y96mxt"),p(d,"class","hidden svelte-y96mxt"),p(d,"aria-hidden","true"),p(_,"class","svelte-y96mxt"),p(i,"class","counter-digits svelte-y96mxt"),me(i,"transform","translate(0, "+100*t[5]+"%)"),p(o,"class","counter-viewport svelte-y96mxt"),p(B,"aria-label","Increase the counter by one"),p(B,"class","svelte-y96mxt"),p(r,"class","counter svelte-y96mxt")},m(y,M){oe(e,y,M),T(y,s,M),T(y,n,M),w(n,a),T(y,f,M),T(y,r,M),w(r,c),w(r,u),w(r,o),w(o,i),w(i,d),w(d,b),w(i,x),w(i,_),w(_,C),w(r,X),w(r,B),g=!0,k||(S=[te(c,"click",t[7]),te(B,"click",t[8])],k=!0)},p(y,[M]){const j={};M&4&&(j.oldBalls=y[2]),M&8&&(j.curBalls=y[3]),M&16&&(j.time=y[4]),e.$set(j),(!g||M&8)&&l!==(l=JSON.stringify(y[3].map(ne))+"")&&P(a,l),(!g||M&2)&&h!==(h=Math.floor(y[1]+1)+"")&&P(b,h),(!g||M&2)&&L!==(L=Math.floor(y[1])+"")&&P(C,L),(!g||M&32)&&me(i,"transform","translate(0, "+100*y[5]+"%)")},i(y){g||(U(e.$$.fragment,y),g=!0)},o(y){D(e.$$.fragment,y),g=!1},d(y){y&&(v(s),v(n),v(f),v(r)),ae(e,y),k=!1,ge(S)}}}function We(t,e){return(t%e+e)%e}function Ke(t,e,s){let n,l,f=[{position:{x:11,y:11},velocity:{x:5,y:1},radius:10,mass:100},{position:{x:6,y:8},velocity:{x:1e3,y:-1},radius:.3,mass:1},{position:{x:7,y:5},velocity:{x:0,y:1},radius:.3,mass:1},{position:{x:8,y:4},velocity:{x:-2,y:1},radius:.3,mass:1},{position:{x:9,y:3},velocity:{x:0,y:1},radius:.3,mass:1}],[r,c]=ee(f)||[f,"100000"],[m,u]=ee(r)||[r,"0"],o=1;const i=Xe();Be(t,i,_=>s(1,l=_));let d=null;async function h(){d!==null&&await d,s(2,f=r),s(3,[r,c]=[m,u],r,s(4,c)),c!=="0"&&setTimeout(h,c*1e3),d=(async()=>{[m,u]=ee(r)||[r,"0"]})()}ke(()=>setTimeout(h,c*1e3));const b=()=>s(0,o-=1),x=()=>s(0,o+=1);return t.$$.update=()=>{t.$$.dirty&1&&i.set(o),t.$$.dirty&2&&s(5,n=We(l,1))},[o,l,f,r,c,n,i,b,x]}class Qe extends Z{constructor(e){super(),$(this,e,Ke,Ge,Q,{})}}const Ze=""+new URL("../assets/svelte-welcome.0pIiHnVF.webp",import.meta.url).href,$e=""+new URL("../assets/svelte-welcome.VNiyy3gC.png",import.meta.url).href;function et(t){let e,s,n,l,a=`<span class="welcome svelte-19xx0bt"><picture><source srcset="${Ze}" type="image/webp"/> <img src="${$e}" alt="Welcome" class="svelte-19xx0bt"/></picture></span>

		to your new<br/>SvelteKit app`,f,r,c="try editing <strong>src/routes/+page.svelte</strong>",m,u,o;return u=new Qe({}),{c(){e=N("meta"),s=Y(),n=N("section"),l=N("h1"),l.innerHTML=a,f=Y(),r=N("h2"),r.innerHTML=c,m=Y(),ie(u.$$.fragment),this.h()},l(i){const d=Se("svelte-t32ptj",document.head);e=E(d,"META",{name:!0,content:!0}),d.forEach(v),s=H(i),n=E(i,"SECTION",{class:!0});var h=O(n);l=E(h,"H1",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-11s73ib"&&(l.innerHTML=a),f=H(h),r=E(h,"H2",{"data-svelte-h":!0}),W(r)!=="svelte-1e36z0s"&&(r.innerHTML=c),m=H(h),le(u.$$.fragment,h),h.forEach(v),this.h()},h(){document.title="Home",p(e,"name","description"),p(e,"content","Svelte demo app"),p(l,"class","svelte-19xx0bt"),p(n,"class","svelte-19xx0bt")},m(i,d){w(document.head,e),T(i,s,d),T(i,n,d),w(n,l),w(n,f),w(n,r),w(n,m),oe(u,n,null),o=!0},p:R,i(i){o||(U(u.$$.fragment,i),o=!0)},o(i){D(u.$$.fragment,i),o=!1},d(i){i&&(v(s),v(n)),v(e),ae(u)}}}class lt extends Z{constructor(e){super(),$(this,e,null,et,Q,{})}}export{lt as component,it as universal};
